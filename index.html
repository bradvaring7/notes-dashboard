<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Call Notes Dashboard</title>
  <link rel="icon" href="https://raw.githubusercontent.com/bradvaring7/notes-dashboard/main/favicon.ico" type="image/x-icon">

  <style>
    body { font-family: Arial, sans-serif; padding: 10px; max-width: 600px; }
    h3 { margin-top: 24px; }
    label { font-weight: bold; display: block; margin-top: 12px; }
    textarea, input { width: 100%; padding: 6px; margin-top: 4px; box-sizing: border-box; }
    button { margin-top: 10px; margin-right: 8px; padding: 8px 12px; cursor: pointer; }
  </style>
</head>
<body>

  <h3>After Call Notes</h3>
  <label for="who">Who?</label><input id="who" type="text">
  <label for="what">What?</label><textarea id="what" rows="2"></textarea>
  <label for="resolution">Resolution:</label><textarea id="resolution" rows="2"></textarea>
  <label for="followup">Follow-up?</label><input id="followup" type="text">
  <button onclick="copyAfterCall()">ğŸ“‹ Copy</button>
  <button onclick="resetAfterCall()">ğŸ”„ Reset</button>

  <h3>Reservice Notes</h3>
  <label for="res_what">What?</label><textarea id="res_what" rows="2"></textarea>
  <label for="res_where">Where?</label><input id="res_where" type="text">
  <label for="res_when">When?</label><input id="res_when" type="text">
  <label for="res_howmany">How Many?</label><input id="res_howmany" type="text">
  <button onclick="copyReservice()">ğŸ“‹ Copy</button>
  <button onclick="resetReservice()">ğŸ”„ Reset</button>

  <h3>Regular Appt Notes</h3>
  <label for="reason">Reason?</label><textarea id="reason" rows="2"></textarea>
  <label for="context">Context:</label><textarea id="context" rows="2"></textarea>
  <label for="situation">Pest Situation:</label><textarea id="situation" rows="2"></textarea>
  <button onclick="copyRegular()">ğŸ“‹ Copy</button>
  <button onclick="resetRegular()">ğŸ”„ Reset</button>

  <script>
    // Manual reset buttons
    function resetAfterCall() {
      who.value = "";
      what.value = "";
      resolution.value = "";
      followup.value = "";
    }

    function resetReservice() {
      res_what.value = "";
      res_where.value = "";
      res_when.value = "";
      res_howmany.value = "";
    }

    function resetRegular() {
      reason.value = "";
      context.value = "";
      situation.value = "";
    }

    // Copy + auto-clear
    async function copyAfterCall() {
      try {
        const text = `Who? ${who.value}\nWhat? ${what.value}\nResolution: ${resolution.value}\nFollow-up?: ${followup.value}`;
        await navigator.clipboard.writeText(text);
        resetAfterCall();
        alert("ğŸ“ After Call Notes Copied + Cleared!");
      } catch (err) {
        alert("âŒ Copy failed. Check clipboard permissions.");
      }
    }

    async function copyReservice() {
      try {
        const text = `What? ${res_what.value}\nWhere? ${res_where.value}\nWhen? ${res_when.value}\nHow Many? ${res_howmany.value}`;
        await navigator.clipboard.writeText(text);
        resetReservice();
        alert("ğŸ”§ Reservice Notes Copied + Cleared!");
      } catch (err) {
        alert("âŒ Copy failed. Check clipboard permissions.");
      }
    }

    async function copyRegular() {
      try {
        const text = `Reason? ${reason.value}\nContext: ${context.value}\nPest Situation: ${situation.value}`;
        await navigator.clipboard.writeText(text);
        resetRegular();
        alert("ğŸ“† Appointment Notes Copied + Cleared!");
      } catch (err) {
        alert("âŒ Copy failed. Check clipboard permissions.");
      }
    }
  </script>

</body>
</html>
